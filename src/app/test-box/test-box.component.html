<div class="test-box">
    <div class="typing-sheet">
        <div class="visible-area" #visibleArea>
            <div class="word-box" [ngStyle]="{'top': wordBoxPosition, 'display': wordsBoxDisplay}">
                <span *ngFor="let word of words; let i = index;" class="word word-{{i}}" 
                [ngClass]="{
                    'current-word': word.isCurrent,
                    'current-word-wrong': word.isCurrentWrong,
                    'correct-word': word.isCorrect,
                    'wrong-word': word.isWrong,
                }" #wordRef>
                    {{word.value}}
                </span>
                
            </div>
            <div class="test-over-msg" [ngStyle]="{'display': msgBoxDisplay}">
                <span>Time is Over!</span>
            </div>
        </div>
    </div>
    
    <div class="typing-toolbar">
        <input type="text" class="typing-field" [placeholder]="placeHolder" [formControl]="inputField">
        <div class="timer">
            <span>{{counterTime | time}}</span>
        </div>
        <button class="refresh-button" (click)="startTest()">Start Again</button>
    </div>

    <div class="result-box shadow" [ngStyle]="{'display': resultBoxDisplay}">
        <table class="table table-dark table-striped table-hover">
            <thead>
                <tr>
                    <th colspan="2">Result</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Speed</td>
                    <td>{{testResult?.netWPM}} WPM</td>
                </tr>
                <tr>
                    <td>Words Typed</td>
                    <td>
                        <span>{{testResult?.words}}</span>&nbsp;&nbsp;(
                        <span>{{testResult?.correctWords}}</span>&nbsp;|
                        <span>{{testResult?.wrongWords}}</span>&nbsp;)
                    </td>
                </tr>
                <tr>
                    <td>Charaters Typed</td>
                    <td>
                        <span>{{testResult?.characters}}</span>&nbsp;&nbsp;(
                        <span>{{testResult?.correctCharacters}}</span>&nbsp;|
                        <span>{{testResult?.wrongCharacters}}</span>&nbsp;)
                    </td>
                </tr>
                <tr>
                    <td>Accuracy</td>
                    <td>{{testResult?.accuracy}}%</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="2">You are in top <span>{{testResult?.top}}%</span></td>
                </tr>
            </tfoot>
        </table>
    </div>

</div>